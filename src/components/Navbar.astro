---
import business from '../data/business.json';

const links = [
  { name: 'Inicio', href: '#inicio' },
  { name: 'Nosotros', href: '#nosotros' },
  { name: 'Menú', href: '#menu' },
  { name: 'Galería', href: '#galeria' },
  { name: 'Contacto', href: '#contacto' },
];
---

<header
  id="navbar"
  class="fixed top-0 w-full z-50 transition-all duration-300 backdrop-blur-lg bg-transparent"
>
  <nav
    class="max-w-6xl mx-auto flex items-center justify-between px-6 py-5 md:py-6"
  >
    <a
      href="#"
      class="font-semibold tracking-wide text-lg md:text-xl"
      style={`color: ${business.colorAccent}`}
    >
      {business.name}
    </a>

    <div class="hidden md:flex gap-8">
      {links.map(link => (
        <a
          href={link.href}
          class="text-sm md:text-base font-medium text-[#b1bb92] hover:text-[#265042] transition-colors"
        >
          {link.name}
        </a>
      ))}
    </div>

    <button id="menu-toggle" class="md:hidden flex flex-col gap-1.5">
      <span class="w-6 h-0.5 bg-gray-800"></span>
      <span class="w-6 h-0.5 bg-gray-800"></span>
      <span class="w-6 h-0.5 bg-gray-800"></span>
    </button>
  </nav>

  <div
    id="mobile-menu"
    class="hidden fixed top-0 left-0 w-full h-full bg-white/95 backdrop-blur-md flex flex-col items-center justify-center gap-8 text-lg"
  >
    {links.map(link => (
      <a href={link.href}>{link.name}</a>
    ))}
  </div>
</header>

<script>
  const header = document.getElementById('navbar');
  const toggle = document.getElementById('menu-toggle');
  const mobileMenu = document.getElementById('mobile-menu');

  // Scroll effect
  window.addEventListener('scroll', () => {
    if (window.scrollY > 30) {
      header.classList.add('bg-white/80', 'shadow-md', 'py-3');
    } else {
      header.classList.remove('bg-white/80', 'shadow-md', 'py-3');
    }
  });

  // Mobile menu
  toggle.addEventListener('click', () => {
    mobileMenu.classList.toggle('hidden');
  });
</script>

<style is:global>
  :root {
    --primary-color: {business.colorPrimary};
  }
</style>
